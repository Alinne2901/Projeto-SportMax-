
<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="website icon" href="./imagem/Logo-icon.png">
    <link rel="stylesheet" href="./style/login.css">
    <title>Login SportMax</title>
</head>
<body>
    <header>
        <div class="cabecalho">
            <div class="logo">
                <img src="./imagem/Logo.jpeg" alt="Logo SportMax" class="logo__img">
            </div>

            <nav>
                <a href="./index.html">Home</a>
            </nav>
        </div>
    </header>

    <main>
        <div class="login">
            <form id="login-form">
                <h1 class="titulo">Login</h1>
                <p class="Acesso">Acesse sua conta para continuar</p>
                <input placeholder="E-mail" type="email" name="email" required/>
                <input placeholder="Senha" type="password" name="senha" required/>
                <a href="#" class="esqueci__senha">Esqueci minha senha</a>
                <button type="submit" class="botao__entrar">Entrar</button>
                <p class="conta">Não tem conta? <a href="./cadastro.html">Cadastre-se</a></p>
            </form>
        </div>
    </main> 

    <script>
        document.getElementById("login-form").addEventListener("submit", function(event) {
            event.preventDefault(); // Evita o envio padrão do formulário
            debugger;
            const email = event.target.email.value;
            const senha = event.target.senha.value;

            const myHeaders = new Headers();
            myHeaders.append("Content-Type", "application/json");

            const raw = JSON.stringify({
                email: email,
                senha: senha
            });

            const requestOptions = {
                method: "POST",
                headers: myHeaders,
                body: raw,
                redirect: "follow"
            };

            fetch("http://localhost:3000/login", requestOptions)
                .then(response => response.text())
                .then(result => {
                    window.location.href = "index.html";
                    // Você pode redirecionar ou exibir mensagem aqui

                })
                .catch(error => alert("Erro:",  error.message));
            });
    </script>
</body>
</html>